(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35839:(e,t,r)=>{Promise.resolve().then(r.bind(r,53244))},53244:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(95155),s=r(12115),l=r(20063),n=r(35299);let c=()=>{let e=(0,l.useSearchParams)(),t=(0,l.useRouter)(),r=e.get("id"),[c,i]=(0,s.useState)(null),[o,u]=(0,s.useState)(!0),[d,m]=(0,s.useState)(null),[h,f]=(0,s.useState)(""),[p,x]=(0,s.useState)("");(0,s.useEffect)(()=>{r?g(r):(m("No car ID found"),u(!1))},[r]);let g=async e=>{try{u(!0);let t=await fetch("/api/available-cars/".concat(e));if(!t.ok)throw Error("Failed to fetch car details");let r=await t.json();i(r)}catch(e){m(e instanceof Error?e.message:"Error fetching car")}finally{u(!1)}};return o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"w-10 h-10 animate-spin text-gray-600"})}):d||!c?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-3",children:[(0,a.jsx)("p",{className:"text-red-500",children:d||"Car not found"}),(0,a.jsx)("button",{onClick:()=>t.push("/"),className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800",children:"Back to Home"})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-lg",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:["Reserve ",c.name," ",c.model]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!h||!p)return void alert("Please fill in both pickup and return dates.");t.push("/payment?carId=".concat(null==c?void 0:c.id,"&pickup=").concat(h,"&return=").concat(p))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Pickup Date"}),(0,a.jsx)("input",{"aria-label":"date",type:"date",value:h,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Return Date"}),(0,a.jsx)("input",{"aria-label":"date",type:"date",value:p,onChange:e=>x(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black",required:!0})]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col gap-4",children:[(0,a.jsxs)("p",{className:"text-gray-800 font-semibold",children:["Price per day: $",c.price_per_day]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-800 transition",children:"Proceed to Payment"})]})]})]})})}},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:i?24*Number(c)/Number(s):c,className:l("lucide",o),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...o}=r;return(0,a.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return r.displayName=s(e),r}}},e=>{e.O(0,[441,255,358],()=>e(e.s=35839)),_N_E=e.O()}]);